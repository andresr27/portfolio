package uy.com.boxes;
/*
 * This Java source file was generated by the Gradle 'init' task.
 */
import org.junit.Test;
import static org.junit.Assert.*;


import com.google.gson.Gson;
import com.google.gson.reflect.TypeToken;
import uy.boxes.api.model.Box;
import uy.boxes.api.model.Product;

import java.lang.reflect.Type;
import java.util.ArrayList;
import java.util.List;
import java.util.logging.Logger;

/**
 * Created by marcel on 04/07/16.
 */
public class AppTest {
    private static Logger log = Logger.getLogger("AppTests");

    public static void main(String[] args) {
        Gson gson = new Gson();

        List<Box> boxList = new ArrayList<>();

        Box b = new Box(1, "Yerba Zara", "Presidencia", Box.Status.OK, "200.45.58.12","tipo 1");
        int productPrice = 20;
        int productStock = 10;
        long boxId = b.getId();
        b.getProductList().add(new Product(boxId, 1L, "Yerba Zara 200g", "Paquete de yerba zara de 200 grms. ", productPrice, productStock));
        b.getProductList().add(new Product(boxId, 2l, "Yerba Zara 100g", "Paquete de yerba zara de 100 grms. ", 12, 8));
        b.getProductList().add(new Product(boxId, 3l, "Yerba Zara 1/2 Kg", "Paquete de yerba zara de medio kilmsg. ", 40, 5));
        boxList.add(b);

        b = new Box(2, "LadySoft", "Fac. de Ingeniería", Box.Status.WARN, "200.22.78.142","tipo 2");
        b.getProductList().add(new Product(boxId,10l, "Pañuelos 10u", "Paquete de pañuelos desechables de 10 unidades ", 30, 6));
        b.getProductList().add(new Product(boxId,20l, "Pañuelos 5u", "Paquete de pañuelos desechables de 5 unidades ", 20, 6));
        b.getProductList().add(new Product(boxId,30l, "Pañuelos 10u", "Paquete de pañuelos desechables de 10 unidades ", 30, 10));
        boxList.add(b);

        b = new Box(4, "Usalo", "Ministerio de Desarrollo Social", Box.Status.OK, "200.11.55.14","tipo 1");
        b.getProductList().add(new Product(boxId,30l, "Preservativos Masculino 3u", "Preservativos masculinos de 3 unidades ", 50, 6));
        b.getProductList().add(new Product(boxId,31l, "Preservativos Masculino 3u", "Preservativos Masculino 3u tachonados", 60, 4));
        b.getProductList().add(new Product(boxId,32l, "Preservativos femenino 1u", "Paquete con preservativo femenino 1 unidad", 100, 1));
        boxList.add(b);

        b = new Box(6, "Club Social", "Montevideo Shopping ", Box.Status.UNKNOWN, "200.11.55.14","tipo 1");
        b.getProductList().add(new Product(boxId, 41l, "Galletitas Club Social 1", "Galletitas sabor queso 200 grms", 45, 6));
        b.getProductList().add(new Product(boxId, 42l, "Galletitas Club Social 2", "Galletitas sabor tomate 200 grms", 45, 2));
        boxList.add(b);

        Type listOfTestObject = new TypeToken<List<Box>>(){}.getType();
        String s = gson.toJson(boxList, listOfTestObject);

        log.info("JSON " + s);

        List<Box> list2 = gson.fromJson(s, listOfTestObject);
        String unpadded = "12345";

        String padded = "000000000000000000000".substring(0, 15 - unpadded.length()) + unpadded;
        log.info("Final " + padded + " largo " + padded.length());

        unpadded = "123456789";
        padded = "000000000000000000000".substring(0, 15 - unpadded.length()) + unpadded;
        log.info("Final " + padded + " largo " + padded.length());
         
        System.out.println(Arrays.toString(boxList)); 

    }

}
